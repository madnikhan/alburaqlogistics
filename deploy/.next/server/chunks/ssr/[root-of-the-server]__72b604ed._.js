module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},19337,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(18740);let d="bookings",e=async a=>{try{let e={...a,createdAt:b.Timestamp.now(),updatedAt:b.Timestamp.now()};return(await (0,b.addDoc)((0,b.collection)(c.db,d),e)).id}catch(a){throw console.error("Error creating booking:",a),a}},f=async a=>{try{let e=(0,b.doc)(c.db,d,a),f=await (0,b.getDoc)(e);if(f.exists()){let a=f.data();return{id:f.id,...a,createdAt:a.createdAt?.toDate(),updatedAt:a.updatedAt?.toDate()}}return null}catch(a){throw console.error("Error getting booking:",a),a}},g=async(a,e,f)=>{try{let g=(0,b.doc)(c.db,d,a),h={status:e,updatedAt:b.Timestamp.now()};f&&(h.paymentStatus=f),await (0,b.updateDoc)(g,h)}catch(a){throw console.error("Error updating booking:",a),a}},h=async a=>{try{let e=(0,b.query)((0,b.collection)(c.db,d),(0,b.where)("email","==",a));return(await (0,b.getDocs)(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting bookings:",a),a}},i=async()=>{try{return(await (0,b.getDocs)((0,b.collection)(c.db,d))).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting all bookings:",a),a}};a.s(["createBooking",0,e,"getAllBookings",0,i,"getBooking",0,f,"getBookingsByEmail",0,h,"updateBookingStatus",0,g])},66337,a=>{"use strict";let b=[{id:"removal-basic",name:"Basic Removal",serviceType:"removals",description:"Perfect for small moves within Birmingham",price:450,features:["1-2 bedroom removal","2 movers","Standard van","Basic insurance","Distance-based pricing"],estimatedHours:4,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"removal-standard",name:"Standard Removal",serviceType:"removals",description:"Ideal for medium-sized moves",price:600,features:["2-3 bedroom removal","3 movers","Large van","Full insurance","Packing materials included","Distance-based pricing"],estimatedHours:6,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"removal-premium",name:"Premium Removal",serviceType:"removals",description:"Complete removal service with full support",price:900,features:["3+ bedroom removal","4 movers","Large van + trailer","Premium insurance","Full packing service","Furniture disassembly","Distance-based pricing"],estimatedHours:8,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking","Furniture assembly"]},{id:"office-small",name:"Small Office Move",serviceType:"office-moving",description:"Perfect for small businesses (up to 10 employees)",price:600,features:["Up to 20 desks","IT equipment handling","3 movers","Office insurance","Weekend/evening options","Distance-based pricing"],estimatedHours:6,maxDistance:50,includes:["Desk moving","IT equipment","Filing cabinets","Basic setup"]},{id:"office-medium",name:"Medium Office Move",serviceType:"office-moving",description:"Ideal for medium-sized businesses (10-30 employees)",price:900,features:["Up to 40 desks","IT equipment handling","5 movers","Full office insurance","Flexible scheduling","Storage options","Distance-based pricing"],estimatedHours:10,maxDistance:75,includes:["Complete office relocation","IT setup","Furniture assembly","Storage solutions"]},{id:"office-large",name:"Large Office Move",serviceType:"office-moving",description:"Complete office relocation service",price:1500,features:["40+ desks","Full IT infrastructure","8+ movers","Premium insurance","Project management","Storage & warehousing","Distance-based pricing"],estimatedHours:16,maxDistance:100,includes:["Full relocation","IT infrastructure","Project management","Storage","Setup & configuration"]},{id:"house-studio",name:"Studio/1 Bed Move",serviceType:"house-moving",description:"Perfect for studio or 1 bedroom properties",price:450,features:["Studio/1 bedroom","2 movers","Medium van","Standard insurance","Distance-based pricing"],estimatedHours:5,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"house-2bed",name:"2 Bedroom Move",serviceType:"house-moving",description:"Ideal for 2 bedroom homes",price:600,features:["2 bedroom property","3 movers","Large van","Full insurance","Packing materials","Distance-based pricing"],estimatedHours:7,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"house-3bed",name:"3 Bedroom Move",serviceType:"house-moving",description:"Complete service for 3 bedroom homes",price:900,features:["3 bedroom property","4 movers","Large van + trailer","Premium insurance","Full packing service","Distance-based pricing"],estimatedHours:9,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking"]},{id:"house-4bed",name:"4+ Bedroom Move",serviceType:"house-moving",description:"Premium service for large family homes",price:1200,features:["4+ bedroom property","5+ movers","Multiple vehicles","Premium insurance","Full packing & unpacking","Furniture disassembly","Distance-based pricing"],estimatedHours:12,maxDistance:150,includes:["Complete service","Packing","Loading","Transportation","Unloading","Unpacking","Assembly"]},{id:"pallet-single",name:"Single Pallet",serviceType:"pallets",description:"Single pallet delivery within Birmingham",price:85,features:["1 standard pallet","Next day delivery","Standard insurance","Collection & delivery","Distance-based pricing"],estimatedHours:2,maxDistance:30,includes:["Collection","Transportation","Delivery"]},{id:"pallet-multi",name:"Multiple Pallets",serviceType:"pallets",description:"Multiple pallet delivery service",price:150,features:["2-4 pallets","Next day delivery","Full insurance","Collection & delivery","Distance-based pricing"],estimatedHours:3,maxDistance:50,includes:["Collection","Transportation","Delivery","Pallet wrapping"]},{id:"pallet-bulk",name:"Bulk Pallet Service",serviceType:"pallets",description:"Large quantity pallet delivery",price:300,features:["5+ pallets","Flexible scheduling","Premium insurance","Warehouse to warehouse","Distance-based pricing"],estimatedHours:5,maxDistance:100,includes:["Bulk collection","Transportation","Delivery","Pallet management"]}];a.s(["getPackageById",0,a=>b.find(b=>b.id===a),"getPackagesByService",0,a=>b.filter(b=>b.serviceType===a)])},87113,a=>{"use strict";function b(a){let b=a.match(/([A-Z]{1,2}[0-9][A-Z0-9]?\s?[0-9][A-Z]{2})/i);return b?b[1].toUpperCase().replace(/\s/g," "):null}async function c(a,b){let c=process.env.NEXT_PUBLIC_OPENROUTE_API_KEY;if(!c)return null;try{let d=await fetch(`https://api.openrouteservice.org/geocoding/search?api_key=${c}&text=${encodeURIComponent(a)}&boundary.country=GB`),e=await fetch(`https://api.openrouteservice.org/geocoding/search?api_key=${c}&text=${encodeURIComponent(b)}&boundary.country=GB`),f=await d.json(),g=await e.json();if(!f.features?.[0]||!g.features?.[0])return null;let h=f.features[0].geometry.coordinates,i=g.features[0].geometry.coordinates,j=await fetch(`https://api.openrouteservice.org/v2/directions/driving-car?api_key=${c}&start=${h[0]},${h[1]}&end=${i[0]},${i[1]}`),k=await j.json();if(k.features?.[0]?.properties?.segments?.[0]){let a=k.features[0].properties.segments[0],b=a.distance,c=a.duration;return{distance:Math.round(b/1609.34*10)/10,duration:Math.round(c/60)}}return null}catch(a){return console.error("OpenRouteService API error:",a),null}}async function d(a,b){let c=process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(!c)return null;try{let d=await fetch(`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${encodeURIComponent(a)}&destinations=${encodeURIComponent(b)}&units=imperial&key=${c}`),e=await d.json();if("OK"===e.status&&e.rows[0]?.elements[0]?.status==="OK"){let a=e.rows[0].elements[0],b=a.distance.value/1609.34,c=a.duration.value/60;return{distance:Math.round(10*b)/10,duration:Math.round(c)}}return null}catch(a){return console.error("Google Maps API error:",a),null}}async function e(a,c){let d=b(a),e=b(c);if(!d||!e)return null;try{let a=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(d.replace(/\s/g,""))}`),b=await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(e.replace(/\s/g,""))}`),c=await a.json(),f=await b.json();if(200!==c.status||200!==f.status)return null;let g=c.result.latitude,h=c.result.longitude,i=f.result.latitude,j=f.result.longitude,k=(i-g)*Math.PI/180,l=(j-h)*Math.PI/180,m=Math.sin(k/2)*Math.sin(k/2)+Math.cos(g*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2),n=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m));return{distance:Math.round(3959*n*12)/10}}catch(a){return console.error("Postcode.io API error:",a),null}}async function f(a,f){let g=await c(a,f);if(g)return g;let h=await d(a,f);if(h)return h;let i=await e(a,f);return i||{distance:function(a,c){let d=b(a),e=b(c);if(!d||!e)return a.toLowerCase().includes("birmingham")&&c.toLowerCase().includes("birmingham")?8:15;let f=d.split(" ")[0],g=e.split(" ")[0];return f===g?3:f.startsWith("B")&&g.startsWith("B")?12:f.startsWith("B")&&!g.startsWith("B")||!f.startsWith("B")&&g.startsWith("B")?35:75}(a,f)}}function g(a){return`${Math.round(10*a)/10} miles`}function h(a,b){if(b<=50)return{basePrice:a,distance:b,includedMiles:b,chargeableMiles:0,distanceCharge:0,totalPrice:a,isLocalMove:!0};let c=b-50,d=0;return d=b>100?60+(b-100)*1.5:1.2*c,{basePrice:a,distance:b,includedMiles:50,chargeableMiles:c,distanceCharge:d,totalPrice:a+d,isLocalMove:!1}}a.s(["LOCAL_MOVE_THRESHOLD",0,50,"calculateDistance",()=>f,"formatDistance",()=>g,"getPricingBreakdown",()=>h])},22578,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(19337),g=a.i(56711),h=a.i(66337),i=a.i(87113);function j(){let a=(0,d.useSearchParams)(),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0),n=a.get("booking_id");return((0,c.useEffect)(()=>{n?(0,f.getBooking)(n).then(a=>{k(a),m(!1)}).catch(a=>{console.error("Error fetching booking:",a),m(!1)}):m(!1)},[n]),l)?(0,b.jsx)("div",{className:"container mx-auto px-4 py-12 text-center",children:(0,b.jsx)("p",{children:"Loading..."})}):(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12 max-w-2xl",children:(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 sm:p-8 text-center",children:[(0,b.jsx)("div",{className:"text-5xl sm:text-6xl mb-3 sm:mb-4",children:"✓"}),(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Booking Confirmed!"}),(0,b.jsx)("p",{className:"text-base sm:text-lg text-gray-600 mb-6 sm:mb-8 px-4",children:"Thank you for choosing Al Buraq Logistics. Your booking has been confirmed and payment received."}),j&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 mb-6 text-left",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Booking Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm sm:text-base text-gray-700 mb-4",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Booking ID:"})," ",(0,b.jsx)("span",{className:"font-mono text-xs break-all",children:j.id})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Name:"})," ",j.customerName]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Email:"})," ",j.email]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Phone:"})," ",j.phone]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Service:"})," ",(0,h.getPackageById)(j.packageId)?.name||j.serviceType]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Pickup Date:"})," ",j.pickupDate?(0,g.format)(new Date(j.pickupDate),"MMM dd, yyyy"):j.pickupDate]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Pickup Time:"})," ",j.pickupTime]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Pickup Address:"})," ",j.pickupAddress]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Delivery Address:"})," ",j.deliveryAddress]})]}),void 0!==j.basePrice&&void 0!==j.distance&&(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Price Breakdown"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm sm:text-base",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Base Price:"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:["£",j.basePrice.toFixed(2)]})]}),j.distance>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Distance:"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:(0,i.formatDistance)(j.distance)})]}),void 0!==j.distanceCharge&&j.distanceCharge>0&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Distance Charge:"}),(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:["£",j.distanceCharge.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between border-t border-gray-200 pt-2 mt-2",children:[(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount:"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-[#D4AF37]",children:["£",j.totalPrice.toFixed(2)]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",(0,b.jsx)("span",{className:"text-green-600 font-semibold capitalize",children:j.status})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Payment Status:"})," ",(0,b.jsx)("span",{className:"text-green-600 font-semibold capitalize",children:j.paymentStatus})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:[(0,b.jsx)(e.default,{href:"/",className:"bg-[#092439] text-[#D4AF37] px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-[#0d3552] transition text-sm sm:text-base",children:"Return Home"}),(0,b.jsx)(e.default,{href:"/book",className:"bg-white text-[#D4AF37] border-2 border-[#D4AF37] px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-[#D4AF37]/10 transition text-sm sm:text-base",children:"Book Another Service"})]})]})})}function k(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"container mx-auto px-4 py-12 text-center",children:"Loading..."}),children:(0,b.jsx)(j,{})})}a.s(["default",()=>k])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__72b604ed._.js.map