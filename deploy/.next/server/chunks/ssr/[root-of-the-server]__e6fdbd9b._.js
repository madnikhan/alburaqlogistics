module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},19337,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(18740);let d="bookings",e=async a=>{try{let e={...a,createdAt:b.Timestamp.now(),updatedAt:b.Timestamp.now()};return(await (0,b.addDoc)((0,b.collection)(c.db,d),e)).id}catch(a){throw console.error("Error creating booking:",a),a}},f=async a=>{try{let e=(0,b.doc)(c.db,d,a),f=await (0,b.getDoc)(e);if(f.exists()){let a=f.data();return{id:f.id,...a,createdAt:a.createdAt?.toDate(),updatedAt:a.updatedAt?.toDate()}}return null}catch(a){throw console.error("Error getting booking:",a),a}},g=async(a,e,f)=>{try{let g=(0,b.doc)(c.db,d,a),h={status:e,updatedAt:b.Timestamp.now()};f&&(h.paymentStatus=f),await (0,b.updateDoc)(g,h)}catch(a){throw console.error("Error updating booking:",a),a}},h=async a=>{try{let e=(0,b.query)((0,b.collection)(c.db,d),(0,b.where)("email","==",a));return(await (0,b.getDocs)(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting bookings:",a),a}},i=async()=>{try{return(await (0,b.getDocs)((0,b.collection)(c.db,d))).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting all bookings:",a),a}};a.s(["createBooking",0,e,"getAllBookings",0,i,"getBooking",0,f,"getBookingsByEmail",0,h,"updateBookingStatus",0,g])},66337,a=>{"use strict";let b=[{id:"removal-basic",name:"Basic Removal",serviceType:"removals",description:"Perfect for small moves within Birmingham",price:450,features:["1-2 bedroom removal","2 movers","Standard van","Basic insurance","Distance-based pricing"],estimatedHours:4,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"removal-standard",name:"Standard Removal",serviceType:"removals",description:"Ideal for medium-sized moves",price:600,features:["2-3 bedroom removal","3 movers","Large van","Full insurance","Packing materials included","Distance-based pricing"],estimatedHours:6,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"removal-premium",name:"Premium Removal",serviceType:"removals",description:"Complete removal service with full support",price:900,features:["3+ bedroom removal","4 movers","Large van + trailer","Premium insurance","Full packing service","Furniture disassembly","Distance-based pricing"],estimatedHours:8,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking","Furniture assembly"]},{id:"office-small",name:"Small Office Move",serviceType:"office-moving",description:"Perfect for small businesses (up to 10 employees)",price:600,features:["Up to 20 desks","IT equipment handling","3 movers","Office insurance","Weekend/evening options","Distance-based pricing"],estimatedHours:6,maxDistance:50,includes:["Desk moving","IT equipment","Filing cabinets","Basic setup"]},{id:"office-medium",name:"Medium Office Move",serviceType:"office-moving",description:"Ideal for medium-sized businesses (10-30 employees)",price:900,features:["Up to 40 desks","IT equipment handling","5 movers","Full office insurance","Flexible scheduling","Storage options","Distance-based pricing"],estimatedHours:10,maxDistance:75,includes:["Complete office relocation","IT setup","Furniture assembly","Storage solutions"]},{id:"office-large",name:"Large Office Move",serviceType:"office-moving",description:"Complete office relocation service",price:1500,features:["40+ desks","Full IT infrastructure","8+ movers","Premium insurance","Project management","Storage & warehousing","Distance-based pricing"],estimatedHours:16,maxDistance:100,includes:["Full relocation","IT infrastructure","Project management","Storage","Setup & configuration"]},{id:"house-studio",name:"Studio/1 Bed Move",serviceType:"house-moving",description:"Perfect for studio or 1 bedroom properties",price:450,features:["Studio/1 bedroom","2 movers","Medium van","Standard insurance","Distance-based pricing"],estimatedHours:5,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"house-2bed",name:"2 Bedroom Move",serviceType:"house-moving",description:"Ideal for 2 bedroom homes",price:600,features:["2 bedroom property","3 movers","Large van","Full insurance","Packing materials","Distance-based pricing"],estimatedHours:7,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"house-3bed",name:"3 Bedroom Move",serviceType:"house-moving",description:"Complete service for 3 bedroom homes",price:900,features:["3 bedroom property","4 movers","Large van + trailer","Premium insurance","Full packing service","Distance-based pricing"],estimatedHours:9,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking"]},{id:"house-4bed",name:"4+ Bedroom Move",serviceType:"house-moving",description:"Premium service for large family homes",price:1200,features:["4+ bedroom property","5+ movers","Multiple vehicles","Premium insurance","Full packing & unpacking","Furniture disassembly","Distance-based pricing"],estimatedHours:12,maxDistance:150,includes:["Complete service","Packing","Loading","Transportation","Unloading","Unpacking","Assembly"]},{id:"pallet-single",name:"Single Pallet",serviceType:"pallets",description:"Single pallet delivery within Birmingham",price:85,features:["1 standard pallet","Next day delivery","Standard insurance","Collection & delivery","Distance-based pricing"],estimatedHours:2,maxDistance:30,includes:["Collection","Transportation","Delivery"]},{id:"pallet-multi",name:"Multiple Pallets",serviceType:"pallets",description:"Multiple pallet delivery service",price:150,features:["2-4 pallets","Next day delivery","Full insurance","Collection & delivery","Distance-based pricing"],estimatedHours:3,maxDistance:50,includes:["Collection","Transportation","Delivery","Pallet wrapping"]},{id:"pallet-bulk",name:"Bulk Pallet Service",serviceType:"pallets",description:"Large quantity pallet delivery",price:300,features:["5+ pallets","Flexible scheduling","Premium insurance","Warehouse to warehouse","Distance-based pricing"],estimatedHours:5,maxDistance:100,includes:["Bulk collection","Transportation","Delivery","Pallet management"]}];a.s(["getPackageById",0,a=>b.find(b=>b.id===a),"getPackagesByService",0,a=>b.filter(b=>b.serviceType===a)])},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19337),e=a.i(66337),f=a.i(56711);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{n&&p()},[n,j]);let p=async()=>{try{i(!0);let a=await (0,d.getAllBookings)();g(a)}catch(a){console.error("Error loading bookings:",a),alert("Failed to load bookings")}finally{i(!1)}},q=async(a,b)=>{try{await (0,d.updateBookingStatus)(a,b),await p()}catch(a){console.error("Error updating status:",a),alert("Failed to update booking status")}},r="all"===j?a:a.filter(a=>a.status===j),s=a.filter(a=>"paid"===a.paymentStatus).reduce((a,b)=>a+b.totalPrice,0);return n?(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-4",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,b.jsx)("button",{onClick:()=>o(!1),className:"text-gray-600 hover:text-gray-900 text-sm sm:text-base",children:"Logout"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Bookings"}),(0,b.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:a.length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Pending"}),(0,b.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-600",children:a.filter(a=>"pending"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Confirmed"}),(0,b.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-[#D4AF37]",children:a.filter(a=>"confirmed"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Total Revenue"}),(0,b.jsxs)("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:["£",s.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"mb-6 flex gap-2 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>k("all"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm ${"all"===j?"bg-[#092439] text-white":"bg-gray-200 text-gray-700"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>k("pending"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm ${"pending"===j?"bg-[#092439] text-white":"bg-gray-200 text-gray-700"}`,children:"Pending"}),(0,b.jsx)("button",{onClick:()=>k("confirmed"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm ${"confirmed"===j?"bg-[#092439] text-white":"bg-gray-200 text-gray-700"}`,children:"Confirmed"}),(0,b.jsx)("button",{onClick:()=>k("completed"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm ${"completed"===j?"bg-[#092439] text-white":"bg-gray-200 text-gray-700"}`,children:"Completed"}),(0,b.jsx)("button",{onClick:()=>k("cancelled"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm ${"cancelled"===j?"bg-[#092439] text-white":"bg-gray-200 text-gray-700"}`,children:"Cancelled"})]}),h?(0,b.jsx)("div",{className:"text-center py-12",children:"Loading..."}):0===r.length?(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No bookings found"}):(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsx)("div",{className:"md:hidden divide-y divide-gray-200",children:r.map(a=>{let c=(0,e.getPackageById)(a.packageId);return(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm font-mono text-gray-500 mb-1",children:[a.id?.substring(0,8),"..."]}),(0,b.jsx)("div",{className:"font-semibold text-gray-900",children:a.customerName}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.email}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.phone})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["£",a.totalPrice.toFixed(2)]}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"confirmed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"completed"===a.status?"bg-[#092439]/20 text-[#092439]":"bg-red-100 text-red-800"}`,children:a.status})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(0,b.jsx)("strong",{children:"Service:"})," ",c?.name||a.serviceType]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[(0,b.jsx)("strong",{children:"Date:"})," ",(0,f.format)(new Date(a.pickupDate),"MMM dd, yyyy")," at ",a.pickupTime]}),(0,b.jsxs)("select",{value:a.status,onChange:b=>q(a.id,b.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]},a.id)})}),(0,b.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(a=>{let c=(0,e.getPackageById)(a.packageId);return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:[a.id?.substring(0,8),"..."]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.customerName}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.email}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.phone})]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"text-sm text-gray-900",children:c?.name||a.serviceType}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.serviceType})]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,f.format)(new Date(a.pickupDate),"MMM dd, yyyy"),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.pickupTime})]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["£",a.totalPrice.toFixed(2)]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"confirmed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"completed"===a.status?"bg-[#092439]/20 text-[#092439]":"bg-red-100 text-red-800"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"paid"===a.paymentStatus?"bg-green-100 text-green-800":"pending"===a.paymentStatus?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.paymentStatus})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsxs)("select",{value:a.status,onChange:b=>q(a.id,b.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]},a.id)})})]})})]})]}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-20 max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Admin Login"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),"admin123"===l?o(!0):alert("Incorrect password")},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",value:l,onChange:a=>m(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password"})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-[#092439] text-white py-2 rounded-lg font-semibold hover:bg-[#0d3552] transition",children:"Login"})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e6fdbd9b._.js.map