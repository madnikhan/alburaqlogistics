module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},27699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},19337,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(18740);let d="bookings",e=async a=>{try{let e={...a,createdAt:b.Timestamp.now(),updatedAt:b.Timestamp.now()};return(await (0,b.addDoc)((0,b.collection)(c.db,d),e)).id}catch(a){throw console.error("Error creating booking:",a),a}},f=async a=>{try{let e=(0,b.doc)(c.db,d,a),f=await (0,b.getDoc)(e);if(f.exists()){let a=f.data();return{id:f.id,...a,createdAt:a.createdAt?.toDate(),updatedAt:a.updatedAt?.toDate()}}return null}catch(a){throw console.error("Error getting booking:",a),a}},g=async(a,e,f)=>{try{let g=(0,b.doc)(c.db,d,a),h={status:e,updatedAt:b.Timestamp.now()};f&&(h.paymentStatus=f),await (0,b.updateDoc)(g,h)}catch(a){throw console.error("Error updating booking:",a),a}},h=async a=>{try{let e=(0,b.query)((0,b.collection)(c.db,d),(0,b.where)("email","==",a));return(await (0,b.getDocs)(e)).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting bookings:",a),a}},i=async()=>{try{return(await (0,b.getDocs)((0,b.collection)(c.db,d))).docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()}))}catch(a){throw console.error("Error getting all bookings:",a),a}};a.s(["createBooking",0,e,"getAllBookings",0,i,"getBooking",0,f,"getBookingsByEmail",0,h,"updateBookingStatus",0,g])},66337,a=>{"use strict";let b=[{id:"removal-basic",name:"Basic Removal",serviceType:"removals",description:"Perfect for small moves within Birmingham",price:450,features:["1-2 bedroom removal","2 movers","Standard van","Basic insurance","Distance-based pricing"],estimatedHours:4,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"removal-standard",name:"Standard Removal",serviceType:"removals",description:"Ideal for medium-sized moves",price:600,features:["2-3 bedroom removal","3 movers","Large van","Full insurance","Packing materials included","Distance-based pricing"],estimatedHours:6,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"removal-premium",name:"Premium Removal",serviceType:"removals",description:"Complete removal service with full support",price:900,features:["3+ bedroom removal","4 movers","Large van + trailer","Premium insurance","Full packing service","Furniture disassembly","Distance-based pricing"],estimatedHours:8,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking","Furniture assembly"]},{id:"office-small",name:"Small Office Move",serviceType:"office-moving",description:"Perfect for small businesses (up to 10 employees)",price:600,features:["Up to 20 desks","IT equipment handling","3 movers","Office insurance","Weekend/evening options","Distance-based pricing"],estimatedHours:6,maxDistance:50,includes:["Desk moving","IT equipment","Filing cabinets","Basic setup"]},{id:"office-medium",name:"Medium Office Move",serviceType:"office-moving",description:"Ideal for medium-sized businesses (10-30 employees)",price:900,features:["Up to 40 desks","IT equipment handling","5 movers","Full office insurance","Flexible scheduling","Storage options","Distance-based pricing"],estimatedHours:10,maxDistance:75,includes:["Complete office relocation","IT setup","Furniture assembly","Storage solutions"]},{id:"office-large",name:"Large Office Move",serviceType:"office-moving",description:"Complete office relocation service",price:1500,features:["40+ desks","Full IT infrastructure","8+ movers","Premium insurance","Project management","Storage & warehousing","Distance-based pricing"],estimatedHours:16,maxDistance:100,includes:["Full relocation","IT infrastructure","Project management","Storage","Setup & configuration"]},{id:"house-studio",name:"Studio/1 Bed Move",serviceType:"house-moving",description:"Perfect for studio or 1 bedroom properties",price:450,features:["Studio/1 bedroom","2 movers","Medium van","Standard insurance","Distance-based pricing"],estimatedHours:5,maxDistance:50,includes:["Loading","Transportation","Unloading"]},{id:"house-2bed",name:"2 Bedroom Move",serviceType:"house-moving",description:"Ideal for 2 bedroom homes",price:600,features:["2 bedroom property","3 movers","Large van","Full insurance","Packing materials","Distance-based pricing"],estimatedHours:7,maxDistance:75,includes:["Loading","Transportation","Unloading","Packing assistance"]},{id:"house-3bed",name:"3 Bedroom Move",serviceType:"house-moving",description:"Complete service for 3 bedroom homes",price:900,features:["3 bedroom property","4 movers","Large van + trailer","Premium insurance","Full packing service","Distance-based pricing"],estimatedHours:9,maxDistance:100,includes:["Full packing","Loading","Transportation","Unloading","Unpacking"]},{id:"house-4bed",name:"4+ Bedroom Move",serviceType:"house-moving",description:"Premium service for large family homes",price:1200,features:["4+ bedroom property","5+ movers","Multiple vehicles","Premium insurance","Full packing & unpacking","Furniture disassembly","Distance-based pricing"],estimatedHours:12,maxDistance:150,includes:["Complete service","Packing","Loading","Transportation","Unloading","Unpacking","Assembly"]},{id:"pallet-single",name:"Single Pallet",serviceType:"pallets",description:"Single pallet delivery within Birmingham",price:85,features:["1 standard pallet","Next day delivery","Standard insurance","Collection & delivery","Distance-based pricing"],estimatedHours:2,maxDistance:30,includes:["Collection","Transportation","Delivery"]},{id:"pallet-multi",name:"Multiple Pallets",serviceType:"pallets",description:"Multiple pallet delivery service",price:150,features:["2-4 pallets","Next day delivery","Full insurance","Collection & delivery","Distance-based pricing"],estimatedHours:3,maxDistance:50,includes:["Collection","Transportation","Delivery","Pallet wrapping"]},{id:"pallet-bulk",name:"Bulk Pallet Service",serviceType:"pallets",description:"Large quantity pallet delivery",price:300,features:["5+ pallets","Flexible scheduling","Premium insurance","Warehouse to warehouse","Distance-based pricing"],estimatedHours:5,maxDistance:100,includes:["Bulk collection","Transportation","Delivery","Pallet management"]}];a.s(["getPackageById",0,a=>b.find(b=>b.id===a),"getPackagesByService",0,a=>b.filter(b=>b.serviceType===a)])},6380,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19337),e=a.i(66337),f=a.i(56711),g=a.i(38246);function h(){let[a,h]=(0,c.useState)(""),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),o=async b=>{if(b.preventDefault(),!a)return void alert("Please enter your email address");l(!0),n(!0);try{let b=await (0,d.getBookingsByEmail)(a);j(b)}catch(a){console.error("Error fetching bookings:",a),alert("Failed to fetch bookings. Please try again.")}finally{l(!1)}};return(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12 max-w-4xl",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3 sm:mb-4 text-center",children:"My Bookings"}),(0,b.jsx)("p",{className:"text-base sm:text-lg text-gray-600 mb-6 sm:mb-8 text-center px-4",children:"Enter your email address to view your bookings"}),(0,b.jsx)("form",{onSubmit:o,className:"max-w-md mx-auto mb-6 sm:mb-8 px-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsx)("input",{type:"email",value:a,onChange:a=>h(a.target.value),placeholder:"your.email@example.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",required:!0}),(0,b.jsx)("button",{type:"submit",disabled:k,className:"bg-[#092439] text-white px-4 sm:px-6 py-2 rounded-lg font-semibold hover:bg-[#0d3552] transition disabled:bg-gray-400 disabled:cursor-not-allowed text-sm sm:text-base whitespace-nowrap",children:k?"Searching...":"Search"})]})}),m&&!k&&0===i.length&&(0,b.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"No bookings found for this email address."}),(0,b.jsx)(g.default,{href:"/book",className:"text-[#D4AF37] hover:text-[#E5C866] font-semibold",children:"Book a service now →"})]}),i.length>0&&(0,b.jsx)("div",{className:"space-y-4 px-4 sm:px-0",children:i.map(a=>{let c=(0,e.getPackageById)(a.packageId);return(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-3 sm:mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-1 sm:mb-2",children:c?.name||a.serviceType}),(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 font-mono mb-2 break-all",children:["Booking ID: ",a.id]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3 sm:mb-4 md:mb-0",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"confirmed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"completed"===a.status?"bg-[#092439]/20 text-[#092439]":"bg-red-100 text-red-800"}`,children:a.status}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"paid"===a.paymentStatus?"bg-green-100 text-green-800":"pending"===a.paymentStatus?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.paymentStatus})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Pickup Date & Time"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:[(0,f.format)(new Date(a.pickupDate),"MMM dd, yyyy")," at ",a.pickupTime]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),(0,b.jsxs)("p",{className:"font-bold text-lg text-gray-900",children:["£",a.totalPrice.toFixed(2)]}),void 0!==a.basePrice&&void 0!==a.distance&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Base: £",a.basePrice.toFixed(2),void 0!==a.distanceCharge&&a.distanceCharge>0&&` + Distance: \xa3${a.distanceCharge.toFixed(2)}`]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Pickup Address"}),(0,b.jsx)("p",{className:"text-gray-900",children:a.pickupAddress})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Delivery Address"}),(0,b.jsx)("p",{className:"text-gray-900",children:a.deliveryAddress})]})]}),a.specialInstructions&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Special Instructions"}),(0,b.jsx)("p",{className:"text-gray-900",children:a.specialInstructions})]}),a.createdAt&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-4",children:["Booked on ",(0,f.format)(a.createdAt,"MMM dd, yyyy HH:mm")]})]},a.id)})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e66d6fee._.js.map