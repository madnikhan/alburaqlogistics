{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammadmadni/alburaqlogistics/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\n\nexport const db = getFirestore(app);\nexport const auth = getAuth(app);\nexport default app;\n\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,2KAAO,GAAE,CAAC,EAAE;AAE1E,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,6KAAO,EAAC;uCACb"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammadmadni/alburaqlogistics/lib/firestore.ts"],"sourcesContent":["import { \n  collection, \n  addDoc, \n  getDocs, \n  doc, \n  getDoc, \n  updateDoc,\n  query,\n  where,\n  Timestamp\n} from 'firebase/firestore';\nimport { db } from './firebase';\nimport { Booking } from '@/types';\n\nconst BOOKINGS_COLLECTION = 'bookings';\n\nexport const createBooking = async (booking: Omit<Booking, 'id' | 'createdAt' | 'updatedAt'>): Promise<string> => {\n  try {\n    const bookingData = {\n      ...booking,\n      createdAt: Timestamp.now(),\n      updatedAt: Timestamp.now()\n    };\n    const docRef = await addDoc(collection(db, BOOKINGS_COLLECTION), bookingData);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error creating booking:', error);\n    throw error;\n  }\n};\n\nexport const getBooking = async (bookingId: string): Promise<Booking | null> => {\n  try {\n    const docRef = doc(db, BOOKINGS_COLLECTION, bookingId);\n    const docSnap = await getDoc(docRef);\n    \n    if (docSnap.exists()) {\n      const data = docSnap.data();\n      return {\n        id: docSnap.id,\n        ...data,\n        createdAt: data.createdAt?.toDate(),\n        updatedAt: data.updatedAt?.toDate()\n      } as Booking;\n    }\n    return null;\n  } catch (error) {\n    console.error('Error getting booking:', error);\n    throw error;\n  }\n};\n\nexport const updateBookingStatus = async (\n  bookingId: string, \n  status: Booking['status'],\n  paymentStatus?: Booking['paymentStatus']\n): Promise<void> => {\n  try {\n    const docRef = doc(db, BOOKINGS_COLLECTION, bookingId);\n    const updateData: any = {\n      status,\n      updatedAt: Timestamp.now()\n    };\n    \n    if (paymentStatus) {\n      updateData.paymentStatus = paymentStatus;\n    }\n    \n    await updateDoc(docRef, updateData);\n  } catch (error) {\n    console.error('Error updating booking:', error);\n    throw error;\n  }\n};\n\nexport const getBookingsByEmail = async (email: string): Promise<Booking[]> => {\n  try {\n    const q = query(collection(db, BOOKINGS_COLLECTION), where('email', '==', email));\n    const querySnapshot = await getDocs(q);\n    \n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data(),\n      createdAt: doc.data().createdAt?.toDate(),\n      updatedAt: doc.data().updatedAt?.toDate()\n    })) as Booking[];\n  } catch (error) {\n    console.error('Error getting bookings:', error);\n    throw error;\n  }\n};\n\nexport const getAllBookings = async (): Promise<Booking[]> => {\n  try {\n    const querySnapshot = await getDocs(collection(db, BOOKINGS_COLLECTION));\n    \n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data(),\n      createdAt: doc.data().createdAt?.toDate(),\n      updatedAt: doc.data().updatedAt?.toDate()\n    })) as Booking[];\n  } catch (error) {\n    console.error('Error getting all bookings:', error);\n    throw error;\n  }\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAWA;;;AAGA,MAAM,sBAAsB;AAErB,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,cAAc;YAClB,GAAG,OAAO;YACV,WAAW,8KAAS,CAAC,GAAG;YACxB,WAAW,8KAAS,CAAC,GAAG;QAC1B;QACA,MAAM,SAAS,MAAM,IAAA,2KAAM,EAAC,IAAA,+KAAU,EAAC,qHAAE,EAAE,sBAAsB;QACjE,OAAO,OAAO,EAAE;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,SAAS,IAAA,wKAAG,EAAC,qHAAE,EAAE,qBAAqB;QAC5C,MAAM,UAAU,MAAM,IAAA,2KAAM,EAAC;QAE7B,IAAI,QAAQ,MAAM,IAAI;YACpB,MAAM,OAAO,QAAQ,IAAI;YACzB,OAAO;gBACL,IAAI,QAAQ,EAAE;gBACd,GAAG,IAAI;gBACP,WAAW,KAAK,SAAS,EAAE;gBAC3B,WAAW,KAAK,SAAS,EAAE;YAC7B;QACF;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,MAAM;IACR;AACF;AAEO,MAAM,sBAAsB,OACjC,WACA,QACA;IAEA,IAAI;QACF,MAAM,SAAS,IAAA,wKAAG,EAAC,qHAAE,EAAE,qBAAqB;QAC5C,MAAM,aAAkB;YACtB;YACA,WAAW,8KAAS,CAAC,GAAG;QAC1B;QAEA,IAAI,eAAe;YACjB,WAAW,aAAa,GAAG;QAC7B;QAEA,MAAM,IAAA,8KAAS,EAAC,QAAQ;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;AACF;AAEO,MAAM,qBAAqB,OAAO;IACvC,IAAI;QACF,MAAM,IAAI,IAAA,0KAAK,EAAC,IAAA,+KAAU,EAAC,qHAAE,EAAE,sBAAsB,IAAA,0KAAK,EAAC,SAAS,MAAM;QAC1E,MAAM,gBAAgB,MAAM,IAAA,4KAAO,EAAC;QAEpC,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBACpC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE;gBACjC,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE;YACnC,CAAC;IACH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;AACF;AAEO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,gBAAgB,MAAM,IAAA,4KAAO,EAAC,IAAA,+KAAU,EAAC,qHAAE,EAAE;QAEnD,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBACpC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE;gBACjC,WAAW,IAAI,IAAI,GAAG,SAAS,EAAE;YACnC,CAAC;IACH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM;IACR;AACF"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammadmadni/alburaqlogistics/lib/packages.ts"],"sourcesContent":["import { Package, ServiceType } from '@/types';\n\n// Packages tailored for Birmingham UK market with base prices\n// Final price = base price + (distance × £1.20 per mile)\nexport const packages: Package[] = [\n  // Removals Packages\n  {\n    id: 'removal-basic',\n    name: 'Basic Removal',\n    serviceType: 'removals',\n    description: 'Perfect for small moves within Birmingham',\n    price: 450, // Base price\n    features: [\n      '1-2 bedroom removal',\n      '2 movers',\n      'Standard van',\n      'Basic insurance',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 4,\n    maxDistance: 50, // Maximum distance covered\n    includes: ['Loading', 'Transportation', 'Unloading']\n  },\n  {\n    id: 'removal-standard',\n    name: 'Standard Removal',\n    serviceType: 'removals',\n    description: 'Ideal for medium-sized moves',\n    price: 600, // Base price\n    features: [\n      '2-3 bedroom removal',\n      '3 movers',\n      'Large van',\n      'Full insurance',\n      'Packing materials included',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 6,\n    maxDistance: 75,\n    includes: ['Loading', 'Transportation', 'Unloading', 'Packing assistance']\n  },\n  {\n    id: 'removal-premium',\n    name: 'Premium Removal',\n    serviceType: 'removals',\n    description: 'Complete removal service with full support',\n    price: 900, // Base price\n    features: [\n      '3+ bedroom removal',\n      '4 movers',\n      'Large van + trailer',\n      'Premium insurance',\n      'Full packing service',\n      'Furniture disassembly',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 8,\n    maxDistance: 100,\n    includes: ['Full packing', 'Loading', 'Transportation', 'Unloading', 'Unpacking', 'Furniture assembly']\n  },\n  \n  // Office Moving Packages\n  {\n    id: 'office-small',\n    name: 'Small Office Move',\n    serviceType: 'office-moving',\n    description: 'Perfect for small businesses (up to 10 employees)',\n    price: 600, // Base price\n    features: [\n      'Up to 20 desks',\n      'IT equipment handling',\n      '3 movers',\n      'Office insurance',\n      'Weekend/evening options',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 6,\n    maxDistance: 50,\n    includes: ['Desk moving', 'IT equipment', 'Filing cabinets', 'Basic setup']\n  },\n  {\n    id: 'office-medium',\n    name: 'Medium Office Move',\n    serviceType: 'office-moving',\n    description: 'Ideal for medium-sized businesses (10-30 employees)',\n    price: 900, // Base price\n    features: [\n      'Up to 40 desks',\n      'IT equipment handling',\n      '5 movers',\n      'Full office insurance',\n      'Flexible scheduling',\n      'Storage options',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 10,\n    maxDistance: 75,\n    includes: ['Complete office relocation', 'IT setup', 'Furniture assembly', 'Storage solutions']\n  },\n  {\n    id: 'office-large',\n    name: 'Large Office Move',\n    serviceType: 'office-moving',\n    description: 'Complete office relocation service',\n    price: 1500, // Base price\n    features: [\n      '40+ desks',\n      'Full IT infrastructure',\n      '8+ movers',\n      'Premium insurance',\n      'Project management',\n      'Storage & warehousing',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 16,\n    maxDistance: 100,\n    includes: ['Full relocation', 'IT infrastructure', 'Project management', 'Storage', 'Setup & configuration']\n  },\n  \n  // House Moving Packages\n  {\n    id: 'house-studio',\n    name: 'Studio/1 Bed Move',\n    serviceType: 'house-moving',\n    description: 'Perfect for studio or 1 bedroom properties',\n    price: 450, // Base price - matches Birmingham market (£450-£600)\n    features: [\n      'Studio/1 bedroom',\n      '2 movers',\n      'Medium van',\n      'Standard insurance',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 5,\n    maxDistance: 50,\n    includes: ['Loading', 'Transportation', 'Unloading']\n  },\n  {\n    id: 'house-2bed',\n    name: '2 Bedroom Move',\n    serviceType: 'house-moving',\n    description: 'Ideal for 2 bedroom homes',\n    price: 600, // Base price - matches Birmingham market (£600-£900)\n    features: [\n      '2 bedroom property',\n      '3 movers',\n      'Large van',\n      'Full insurance',\n      'Packing materials',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 7,\n    maxDistance: 75,\n    includes: ['Loading', 'Transportation', 'Unloading', 'Packing assistance']\n  },\n  {\n    id: 'house-3bed',\n    name: '3 Bedroom Move',\n    serviceType: 'house-moving',\n    description: 'Complete service for 3 bedroom homes',\n    price: 900, // Base price - matches Birmingham market (£900-£1,500)\n    features: [\n      '3 bedroom property',\n      '4 movers',\n      'Large van + trailer',\n      'Premium insurance',\n      'Full packing service',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 9,\n    maxDistance: 100,\n    includes: ['Full packing', 'Loading', 'Transportation', 'Unloading', 'Unpacking']\n  },\n  {\n    id: 'house-4bed',\n    name: '4+ Bedroom Move',\n    serviceType: 'house-moving',\n    description: 'Premium service for large family homes',\n    price: 1200, // Base price - matches Birmingham market (£1,200-£2,000+)\n    features: [\n      '4+ bedroom property',\n      '5+ movers',\n      'Multiple vehicles',\n      'Premium insurance',\n      'Full packing & unpacking',\n      'Furniture disassembly',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 12,\n    maxDistance: 150,\n    includes: ['Complete service', 'Packing', 'Loading', 'Transportation', 'Unloading', 'Unpacking', 'Assembly']\n  },\n  \n  // Pallet Services\n  {\n    id: 'pallet-single',\n    name: 'Single Pallet',\n    serviceType: 'pallets',\n    description: 'Single pallet delivery within Birmingham',\n    price: 85, // Base price\n    features: [\n      '1 standard pallet',\n      'Next day delivery',\n      'Standard insurance',\n      'Collection & delivery',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 2,\n    maxDistance: 30,\n    includes: ['Collection', 'Transportation', 'Delivery']\n  },\n  {\n    id: 'pallet-multi',\n    name: 'Multiple Pallets',\n    serviceType: 'pallets',\n    description: 'Multiple pallet delivery service',\n    price: 150, // Base price\n    features: [\n      '2-4 pallets',\n      'Next day delivery',\n      'Full insurance',\n      'Collection & delivery',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 3,\n    maxDistance: 50,\n    includes: ['Collection', 'Transportation', 'Delivery', 'Pallet wrapping']\n  },\n  {\n    id: 'pallet-bulk',\n    name: 'Bulk Pallet Service',\n    serviceType: 'pallets',\n    description: 'Large quantity pallet delivery',\n    price: 300, // Base price\n    features: [\n      '5+ pallets',\n      'Flexible scheduling',\n      'Premium insurance',\n      'Warehouse to warehouse',\n      'Distance-based pricing'\n    ],\n    estimatedHours: 5,\n    maxDistance: 100,\n    includes: ['Bulk collection', 'Transportation', 'Delivery', 'Pallet management']\n  }\n];\n\nexport const getPackagesByService = (serviceType: ServiceType): Package[] => {\n  return packages.filter(pkg => pkg.serviceType === serviceType);\n};\n\nexport const getPackageById = (id: string): Package | undefined => {\n  return packages.find(pkg => pkg.id === id);\n};\n\n// Price per mile for distance calculation\nexport const PRICE_PER_MILE = 1.20;\n"],"names":[],"mappings":";;;;;;;;;;AAIO,MAAM,WAAsB;IACjC,oBAAoB;IACpB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAW;YAAkB;SAAY;IACtD;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAW;YAAkB;YAAa;SAAqB;IAC5E;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAgB;YAAW;YAAkB;YAAa;YAAa;SAAqB;IACzG;IAEA,yBAAyB;IACzB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAe;YAAgB;YAAmB;SAAc;IAC7E;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAA8B;YAAY;YAAsB;SAAoB;IACjG;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAmB;YAAqB;YAAsB;YAAW;SAAwB;IAC9G;IAEA,wBAAwB;IACxB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAW;YAAkB;SAAY;IACtD;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAW;YAAkB;YAAa;SAAqB;IAC5E;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAgB;YAAW;YAAkB;YAAa;SAAY;IACnF;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAoB;YAAW;YAAW;YAAkB;YAAa;YAAa;SAAW;IAC9G;IAEA,kBAAkB;IAClB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAc;YAAkB;SAAW;IACxD;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAc;YAAkB;YAAY;SAAkB;IAC3E;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,aAAa;QACb,OAAO;QACP,UAAU;YACR;YACA;YACA;YACA;YACA;SACD;QACD,gBAAgB;QAChB,aAAa;QACb,UAAU;YAAC;YAAmB;YAAkB;YAAY;SAAoB;IAClF;CACD;AAEM,MAAM,uBAAuB,CAAC;IACnC,OAAO,SAAS,MAAM,CAAC,CAAA,MAAO,IAAI,WAAW,KAAK;AACpD;AAEO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,SAAS,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK;AACzC;AAGO,MAAM,iBAAiB"}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammadmadni/alburaqlogistics/lib/distance-calculator.ts"],"sourcesContent":["/**\n * Calculate distance between two UK addresses\n * Supports multiple providers:\n * 1. OpenRouteService (FREE - recommended)\n * 2. Google Maps API (requires API key)\n * 3. Postcode estimation (fallback - always works)\n */\n\nexport interface Location {\n  address: string;\n  postcode?: string;\n}\n\nexport interface DistanceResult {\n  distance: number; // in miles\n  duration?: number; // in minutes\n  error?: string;\n}\n\n/**\n * Extract postcode from address string\n */\nexport function extractPostcode(address: string): string | null {\n  // UK postcode pattern: e.g., B1 1AA, B12 8AB, etc.\n  const postcodeRegex = /([A-Z]{1,2}[0-9][A-Z0-9]?\\s?[0-9][A-Z]{2})/i;\n  const match = address.match(postcodeRegex);\n  return match ? match[1].toUpperCase().replace(/\\s/g, ' ') : null;\n}\n\n/**\n * Calculate distance using OpenRouteService API (FREE)\n * Sign up at https://openrouteservice.org/ for a free API key\n * Free tier: 2,000 requests/day\n */\nasync function calculateDistanceWithOpenRouteService(\n  startAddress: string,\n  endAddress: string\n): Promise<DistanceResult | null> {\n  const apiKey = process.env.NEXT_PUBLIC_OPENROUTE_API_KEY;\n  \n  if (!apiKey) {\n    return null; // API not configured\n  }\n\n  try {\n    // First, geocode addresses to get coordinates\n    const geocodeStart = await fetch(\n      `https://api.openrouteservice.org/geocoding/search?` +\n      `api_key=${apiKey}` +\n      `&text=${encodeURIComponent(startAddress)}` +\n      `&boundary.country=GB`\n    );\n    const geocodeEnd = await fetch(\n      `https://api.openrouteservice.org/geocoding/search?` +\n      `api_key=${apiKey}` +\n      `&text=${encodeURIComponent(endAddress)}` +\n      `&boundary.country=GB`\n    );\n\n    const startData = await geocodeStart.json();\n    const endData = await geocodeEnd.json();\n\n    if (!startData.features?.[0] || !endData.features?.[0]) {\n      return null; // Geocoding failed\n    }\n\n    const startCoords = startData.features[0].geometry.coordinates; // [lng, lat]\n    const endCoords = endData.features[0].geometry.coordinates;\n\n    // Calculate distance using directions API\n    const directionsResponse = await fetch(\n      `https://api.openrouteservice.org/v2/directions/driving-car?` +\n      `api_key=${apiKey}` +\n      `&start=${startCoords[0]},${startCoords[1]}` +\n      `&end=${endCoords[0]},${endCoords[1]}`\n    );\n\n    const directionsData = await directionsResponse.json();\n\n    if (directionsData.features?.[0]?.properties?.segments?.[0]) {\n      const segment = directionsData.features[0].properties.segments[0];\n      const distanceInMeters = segment.distance;\n      const durationInSeconds = segment.duration;\n      \n      const distanceInMiles = distanceInMeters / 1609.34; // Convert to miles\n      const durationInMinutes = durationInSeconds / 60;\n\n      return {\n        distance: Math.round(distanceInMiles * 10) / 10,\n        duration: Math.round(durationInMinutes),\n      };\n    }\n\n    return null;\n  } catch (error) {\n    console.error('OpenRouteService API error:', error);\n    return null; // Fall back to other methods\n  }\n}\n\n/**\n * Calculate distance using Google Maps Distance Matrix API\n */\nasync function calculateDistanceWithGoogleMaps(\n  startAddress: string,\n  endAddress: string\n): Promise<DistanceResult | null> {\n  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;\n  \n  if (!apiKey) {\n    return null;\n  }\n\n  try {\n    const response = await fetch(\n      `https://maps.googleapis.com/maps/api/distancematrix/json?` +\n      `origins=${encodeURIComponent(startAddress)}` +\n      `&destinations=${encodeURIComponent(endAddress)}` +\n      `&units=imperial` +\n      `&key=${apiKey}`\n    );\n\n    const data = await response.json();\n\n    if (data.status === 'OK' && data.rows[0]?.elements[0]?.status === 'OK') {\n      const element = data.rows[0].elements[0];\n      const distanceInMiles = element.distance.value / 1609.34;\n      const durationInMinutes = element.duration.value / 60;\n\n      return {\n        distance: Math.round(distanceInMiles * 10) / 10,\n        duration: Math.round(durationInMinutes),\n      };\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Google Maps API error:', error);\n    return null;\n  }\n}\n\n/**\n * Calculate distance using UK Postcode.io API (FREE for UK postcodes)\n * No API key required for basic distance calculation\n */\nasync function calculateDistanceWithPostcodeIO(\n  startAddress: string,\n  endAddress: string\n): Promise<DistanceResult | null> {\n  const startPostcode = extractPostcode(startAddress);\n  const endPostcode = extractPostcode(endAddress);\n\n  if (!startPostcode || !endPostcode) {\n    return null; // Need postcodes for this API\n  }\n\n  try {\n    // Get coordinates for both postcodes\n    const startResponse = await fetch(\n      `https://api.postcodes.io/postcodes/${encodeURIComponent(startPostcode.replace(/\\s/g, ''))}`\n    );\n    const endResponse = await fetch(\n      `https://api.postcodes.io/postcodes/${encodeURIComponent(endPostcode.replace(/\\s/g, ''))}`\n    );\n\n    const startData = await startResponse.json();\n    const endData = await endResponse.json();\n\n    if (startData.status !== 200 || endData.status !== 200) {\n      return null;\n    }\n\n    const startLat = startData.result.latitude;\n    const startLng = startData.result.longitude;\n    const endLat = endData.result.latitude;\n    const endLng = endData.result.longitude;\n\n    // Calculate straight-line distance (Haversine formula)\n    const R = 3959; // Earth's radius in miles\n    const dLat = (endLat - startLat) * Math.PI / 180;\n    const dLng = (endLng - startLng) * Math.PI / 180;\n    const a = \n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(startLat * Math.PI / 180) * Math.cos(endLat * Math.PI / 180) *\n      Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n\n    // Add 20% for road distance vs straight-line\n    const roadDistance = distance * 1.2;\n\n    return {\n      distance: Math.round(roadDistance * 10) / 10,\n    };\n  } catch (error) {\n    console.error('Postcode.io API error:', error);\n    return null;\n  }\n}\n\n/**\n * Estimate distance based on UK postcodes (fallback method)\n * Uses postcode area codes to estimate distance\n */\nfunction estimateDistanceFromPostcodes(startAddress: string, endAddress: string): number {\n  const startPostcode = extractPostcode(startAddress);\n  const endPostcode = extractPostcode(endAddress);\n\n  // If we can't extract postcodes, estimate based on address similarity\n  if (!startPostcode || !endPostcode) {\n    if (startAddress.toLowerCase().includes('birmingham') && \n        endAddress.toLowerCase().includes('birmingham')) {\n      return 8; // Average local Birmingham move\n    }\n    return 15; // Default estimate\n  }\n\n  // Extract area codes (first part of postcode)\n  const startArea = startPostcode.split(' ')[0];\n  const endArea = endPostcode.split(' ')[0];\n\n  // Same area code = very local (1-5 miles)\n  if (startArea === endArea) {\n    return 3;\n  }\n\n  // Different area codes in Birmingham (B postcodes)\n  if (startArea.startsWith('B') && endArea.startsWith('B')) {\n    return 12; // Average Birmingham local move\n  }\n\n  // One is Birmingham (B), other is not = regional (20-50 miles)\n  if ((startArea.startsWith('B') && !endArea.startsWith('B')) ||\n      (!startArea.startsWith('B') && endArea.startsWith('B'))) {\n    return 35;\n  }\n\n  // Both non-Birmingham = long distance (50+ miles)\n  return 75;\n}\n\n/**\n * Calculate distance between two addresses\n * Tries multiple methods in order:\n * 1. OpenRouteService (FREE - recommended)\n * 2. Google Maps API (if configured)\n * 3. Postcode.io (FREE - UK postcodes only)\n * 4. Postcode estimation (always works)\n */\nexport async function calculateDistance(\n  startAddress: string,\n  endAddress: string\n): Promise<DistanceResult> {\n  // Try OpenRouteService first (free and accurate)\n  const openRouteResult = await calculateDistanceWithOpenRouteService(startAddress, endAddress);\n  if (openRouteResult) {\n    return openRouteResult;\n  }\n\n  // Try Google Maps API\n  const googleResult = await calculateDistanceWithGoogleMaps(startAddress, endAddress);\n  if (googleResult) {\n    return googleResult;\n  }\n\n  // Try Postcode.io (free for UK postcodes)\n  const postcodeIOResult = await calculateDistanceWithPostcodeIO(startAddress, endAddress);\n  if (postcodeIOResult) {\n    return postcodeIOResult;\n  }\n\n  // Fallback to postcode estimation\n  const estimatedDistance = estimateDistanceFromPostcodes(startAddress, endAddress);\n  return {\n    distance: estimatedDistance,\n  };\n}\n\n/**\n * Calculate price based on base price + distance\n * Local moves (under 50 miles): Base price only\n * Long-distance (50-100 miles): Base price + £1.20 per mile for miles over 50\n * Very long distance (100+ miles): Base price + £1.50 per mile for miles over 100\n */\nexport function calculatePrice(\n  basePrice: number,\n  distance: number,\n  pricePerMile: number = 1.20\n): number {\n  const LOCAL_MOVE_THRESHOLD = 50; // Miles included in base price\n  const LONG_DISTANCE_THRESHOLD = 100; // Miles for higher rate\n\n  // Local moves: base price only (distance included)\n  if (distance <= LOCAL_MOVE_THRESHOLD) {\n    return basePrice;\n  }\n\n  // Long-distance moves: charge per mile for miles over threshold\n  const milesOverThreshold = distance - LOCAL_MOVE_THRESHOLD;\n  \n  // For very long distances (100+ miles), use higher rate\n  if (distance > LONG_DISTANCE_THRESHOLD) {\n    const miles50to100 = LONG_DISTANCE_THRESHOLD - LOCAL_MOVE_THRESHOLD;\n    const milesOver100 = distance - LONG_DISTANCE_THRESHOLD;\n    const distanceCharge = (miles50to100 * pricePerMile) + (milesOver100 * 1.50);\n    return basePrice + distanceCharge;\n  }\n\n  // Standard long-distance (50-100 miles)\n  const distanceCharge = milesOverThreshold * pricePerMile;\n  return basePrice + distanceCharge;\n}\n\n/**\n * Format distance for display\n */\nexport function formatDistance(distance: number): string {\n  if (distance < 1) {\n    return `${Math.round(distance * 10) / 10} miles`;\n  }\n  return `${Math.round(distance * 10) / 10} miles`;\n}\n\n/**\n * Get pricing breakdown for display\n */\nexport function getPricingBreakdown(basePrice: number, distance: number) {\n  const LOCAL_MOVE_THRESHOLD = 50;\n  const LONG_DISTANCE_THRESHOLD = 100;\n  const PRICE_PER_MILE = 1.20;\n  const PRICE_PER_MILE_LONG = 1.50;\n\n  if (distance <= LOCAL_MOVE_THRESHOLD) {\n    return {\n      basePrice,\n      distance,\n      includedMiles: distance,\n      chargeableMiles: 0,\n      distanceCharge: 0,\n      totalPrice: basePrice,\n      isLocalMove: true,\n    };\n  }\n\n  const milesOverThreshold = distance - LOCAL_MOVE_THRESHOLD;\n  let distanceCharge = 0;\n  let chargeableMiles = 0;\n\n  if (distance > LONG_DISTANCE_THRESHOLD) {\n    const miles50to100 = LONG_DISTANCE_THRESHOLD - LOCAL_MOVE_THRESHOLD;\n    const milesOver100 = distance - LONG_DISTANCE_THRESHOLD;\n    distanceCharge = (miles50to100 * PRICE_PER_MILE) + (milesOver100 * PRICE_PER_MILE_LONG);\n    chargeableMiles = milesOverThreshold;\n  } else {\n    distanceCharge = milesOverThreshold * PRICE_PER_MILE;\n    chargeableMiles = milesOverThreshold;\n  }\n\n  return {\n    basePrice,\n    distance,\n    includedMiles: LOCAL_MOVE_THRESHOLD,\n    chargeableMiles,\n    distanceCharge,\n    totalPrice: basePrice + distanceCharge,\n    isLocalMove: false,\n  };\n}\n\n/**\n * Price per mile for distance calculation\n */\nexport const PRICE_PER_MILE = 1.20;\nexport const LOCAL_MOVE_THRESHOLD = 50; // Miles included in base price\nexport const LONG_DISTANCE_THRESHOLD = 100; // Miles for higher per-mile rate\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 833, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammadmadni/alburaqlogistics/app/booking-success/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, Suspense } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { getBooking } from '@/lib/firestore';\nimport { Booking } from '@/types';\nimport { format } from 'date-fns';\nimport { getPackageById } from '@/lib/packages';\nimport { formatDistance } from '@/lib/distance-calculator';\n\nfunction BookingSuccessContent() {\n  const searchParams = useSearchParams();\n  const [booking, setBooking] = useState<Booking | null>(null);\n  const [loading, setLoading] = useState(true);\n  const bookingId = searchParams.get('booking_id');\n\n  useEffect(() => {\n    if (bookingId) {\n      getBooking(bookingId)\n        .then((bookingData) => {\n          setBooking(bookingData);\n          setLoading(false);\n        })\n        .catch((error) => {\n          console.error('Error fetching booking:', error);\n          setLoading(false);\n        });\n    } else {\n      setLoading(false);\n    }\n  }, [bookingId]);\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-12 text-center\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 sm:px-6 py-8 sm:py-12 max-w-2xl\">\n      <div className=\"bg-green-50 border border-green-200 rounded-lg p-6 sm:p-8 text-center\">\n        <div className=\"text-5xl sm:text-6xl mb-3 sm:mb-4\">✓</div>\n        <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4\">\n          Booking Confirmed!\n        </h1>\n        <p className=\"text-base sm:text-lg text-gray-600 mb-6 sm:mb-8 px-4\">\n          Thank you for choosing Al Buraq Logistics. Your booking has been confirmed and payment received.\n        </p>\n\n        {booking && (\n          <div className=\"bg-white rounded-lg p-4 sm:p-6 mb-6 text-left\">\n            <h2 className=\"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4\">Booking Details</h2>\n            <div className=\"space-y-2 text-sm sm:text-base text-gray-700 mb-4\">\n              <p><strong>Booking ID:</strong> <span className=\"font-mono text-xs break-all\">{booking.id}</span></p>\n              <p><strong>Name:</strong> {booking.customerName}</p>\n              <p><strong>Email:</strong> {booking.email}</p>\n              <p><strong>Phone:</strong> {booking.phone}</p>\n              <p><strong>Service:</strong> {getPackageById(booking.packageId)?.name || booking.serviceType}</p>\n              <p><strong>Pickup Date:</strong> {booking.pickupDate ? format(new Date(booking.pickupDate), 'MMM dd, yyyy') : booking.pickupDate}</p>\n              <p><strong>Pickup Time:</strong> {booking.pickupTime}</p>\n              <p><strong>Pickup Address:</strong> {booking.pickupAddress}</p>\n              <p><strong>Delivery Address:</strong> {booking.deliveryAddress}</p>\n            </div>\n\n            {/* Price Breakdown */}\n            {booking.basePrice !== undefined && booking.distance !== undefined && (\n              <div className=\"border-t border-gray-200 pt-4 mt-4\">\n                <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 mb-3\">Price Breakdown</h3>\n                <div className=\"space-y-2 text-sm sm:text-base\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Base Price:</span>\n                    <span className=\"font-medium text-gray-900\">£{booking.basePrice.toFixed(2)}</span>\n                  </div>\n                  {booking.distance > 0 && (\n                    <>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600\">Distance:</span>\n                        <span className=\"font-medium text-gray-900\">{formatDistance(booking.distance)}</span>\n                      </div>\n                      {booking.distanceCharge !== undefined && booking.distanceCharge > 0 && (\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Distance Charge:</span>\n                          <span className=\"font-medium text-gray-900\">£{booking.distanceCharge.toFixed(2)}</span>\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <div className=\"flex justify-between border-t border-gray-200 pt-2 mt-2\">\n                    <span className=\"text-lg font-semibold text-gray-900\">Total Amount:</span>\n                    <span className=\"text-xl font-bold text-[#D4AF37]\">£{booking.totalPrice.toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"border-t border-gray-200 pt-4 mt-4\">\n              <p><strong>Status:</strong> <span className=\"text-green-600 font-semibold capitalize\">{booking.status}</span></p>\n              <p><strong>Payment Status:</strong> <span className=\"text-green-600 font-semibold capitalize\">{booking.paymentStatus}</span></p>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4\">\n          <Link\n            href=\"/\"\n            className=\"bg-[#092439] text-[#D4AF37] px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-[#0d3552] transition text-sm sm:text-base\"\n          >\n            Return Home\n          </Link>\n          <Link\n            href=\"/book\"\n            className=\"bg-white text-[#D4AF37] border-2 border-[#D4AF37] px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-[#D4AF37]/10 transition text-sm sm:text-base\"\n          >\n            Book Another Service\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function BookingSuccessPage() {\n  return (\n    <Suspense fallback={<div className=\"container mx-auto px-4 py-12 text-center\">Loading...</div>}>\n      <BookingSuccessContent />\n    </Suspense>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}